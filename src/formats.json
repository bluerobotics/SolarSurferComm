{
  "version": "1",
  "shared": {
    "version": {
      "name": "version",
      "type": "uint8_t"
    },
    "format": {
      "name": "format",
      "type": "uint8_t"
    },
    "checksum": {
      "name": "checksum",
      "type": "hex",
      "qty": 2
    }
  },
  "formats": {
    "0": {
      "name": "test/string",
      "payload": [
        "version",
        "format",
        {
          "name": "message",
          "type": "char",
          "qty": 46
        },
        "checksum"
      ]
    },
    "1": {
      "name": "test/mixed",
      "payload": [
        "version",
        "format",
        {
          "name": "test_uint8_t",
          "type": "uint8_t"
        },
        {
          "name": "test_int8_t",
          "type": "int8_t"
        },
        {
          "name": "test_enum",
          "type": "enum",
          "enum": {
            "0": "this",
            "1": "that"
          }
        },
        {
          "name": "test_bitmap",
          "type": "bitmap",
          "bitmap": {
            "0": "pos_name0",
            "1": "pos_name1"
          }
        },
        {
          "name": "test_convert",
          "type": "int8_t",
          "conversion": {
            "raw_units": "counts",
            "units": "V",
            "coeffs": [0, 1]
          }
        },
        "checksum"
      ]
    },
    "2": {
      "name": "tlm/status",
      "payload": [
        "version",
        "format",
        {
          "name": "latitude",
          "type": "float"
        },
        {
          "name": "longitude",
          "type": "float"
        },
        {
          "name": "fix",
          "type": "uint8_t"
        },
        {
          "name": "time",
          "type": "uint32_t"
        },
        {
          "name": "altitude",
          "type": "int8_t",
          "comment": "half-meters MSL"
        },
        {
          "name": "course",
          "type": "int8_t",
          "comment": "180/128ths of a degree from true north",
          "conversion": {
            "raw_units": "180/128 degrees",
            "units": "degrees",
            "coeffs":  [1.40625,0]
          }
        },
        {
          "name": "heading",
          "type": "int8_t",
          "comment": "180/128ths of a degree from true north",
          "conversion": {
            "raw_units": "180/128 degrees",
            "units": "degrees",
            "coeffs":  [1.40625,0]
          }
        },
        {
          "name": "v_load",
          "type": "uint16_t",
          "comment": "millivolts"
        },
        {
          "name": "v_solar",
          "type": "uint16_t",
          "comment": "millivolts"
        },
        {
          "name": "p_solar",
          "type": "int8_t"
        },
        {
          "name": "p_load",
          "type": "int8_t"
        },
        {
          "name": "p_left",
          "type": "uint8_t"
        },
        {
          "name": "p_right",
          "type": "uint8_t"
        },
        {
          "name": "rotations",
          "type": "uint16_t"
        },
        {
          "name": "rpm_left",
          "type": "uint8_t"
        },
        {
          "name": "rpm_right",
          "type": "uint8_t"
        },
        { 
          "name": "rollPitchRange",
          "type": "uint8_t",
          "comment": "average tilt deviation in degrees over last 10 minutes"
        },
        { 
          "name": "swellPeriod",
          "type": "uint8_t",
          "comment": "seconds"
        },
        {
          "name": "swellHeight",
          "type": "uint8_t",
          "comment": "quarter-meters"
        },
        {
          "name": "tempAir",
          "type": "uint8_t",
          "comment": "quarter-degrees Celcius offset by -20C, range=(-20C,43C)"
        },
        {
          "name": "tempWater",
          "type": "uint8_t",
          "comment": "sixth-degrees Celcius, range=(0C,42C)"
        },
        {
          "name": "pressure",
          "type": "int8_t",
          "comment": "hectoPascals offset by 1013 hectoPascals (ISO standard)"
        },
        {
          "name": "pH",
          "type": "int8_t",
          "comment": "centi-pH-units from 7.0, range=(4.45,9.55)"
        },
        {
          "name": "salinity",
          "type": "int8_t",
          "comment": "unknown units"
        },
        {
          "name": "windSpeed",
          "type": "uint16_t",
          "comment": "cm/s"
        },
        {
          "name": "windDirection",
          "type": "int8_t",
          "comment": "180/128ths of a degree from true north"
        },
        { "name": "status",
          "type": "uint16_t",
          "comment": ""
        },
        {
          "name": "currentWaypointIndex",
          "type": "uint8_t"
        },
        {
          "name": "commandCount",
          "type": "uint16_t"
        },
        {
          "name": "telemetryCount",
          "type": "uint16_t"
        },
        "checksum"
      ]
    },
    "3": {
      "name": "cmd/control",
      "payload": [
        "version",
        "format",
				{
          "name": "telemetryPeriod",
          "type": "enum",
          "enum": {
            "0": "1",
            "1": "5",
            "2": "10",
            "3": "20",
            "4": "30",
            "5": "45",
            "6": "60",
            "7": "90",
            "8": "120",
            "9": "180",
            "10": "360",
            "11": "720",
            "12": "1440",
            "13": "2880"
          }
        },
        {
          "name": "forceMode",
          "type": "enum"
        },
        {
          "name": "forceHeading",
          "type": "int8_t",
          "comment": "180/128ths of a degree from true north"
        },
        { "name": "forceGoalVoltage",
          "type": "uint16_t",
          "comment": "millivolts"
        },
        {
          "name": "forceCurrentWaypointIndex",
          "type": "uint8_t"
        },
        {
          "name": "waypointID1",
          "type": "uint8_t"
        },
        { "name": "waypointRadius1",
          "type": "uint8_t",
          "comment": "meters"
        },
        {
          "name": "waypointLat1",
          "type": "float"
        },
        {
          "name": "waypointLon1",
          "type": "float"
        },
        {
          "name": "waypointID2",
          "type": "uint8_t"
        },
        { "name": "waypointRadius2",
          "type": "uint8_t",
          "comment": "meters"
        },
        {
          "name": "waypointLat2",
          "type": "float"
        },
        {
          "name": "waypointLon2",
          "type": "float"
        },
        {
          "name": "waypointID3",
          "type": "uint8_t"
        },
        { "name": "waypointRadius3",
          "type": "uint8_t",
          "comment": "meters"
        },
        {
          "name": "waypointLat3",
          "type": "float"
        },
        {
          "name": "waypointLon3",
          "type": "float"
        },
        {
          "name": "waypointID4",
          "type": "uint8_t"
        },
        { "name": "waypointRadius4",
          "type": "uint8_t",
          "comment": "meters"
        },
        {
          "name": "waypointLat4",
          "type": "float"
        },
        {
          "name": "waypointLon4",
          "type": "float"
        },
        "checksum"
        
      ]
    },
    "4": {
      "name": "tlm/image",
      "multipacket": true,
      "payload": [
        "version",
        "format",
        {
          "name": "num",
          "type": "uint8_t"
        },
        {
          "name": "total",
          "type": "uint8_t"
        },
        {
          "name": "data",
          "type": "uint8_t",
          "qty": 294
        },
        "checksum"
      ]
    },
    "5": {
      "name": "tlm/diagnostic",
      "payload": [
        "version",
        "format",
        {
          "name": "gpsTime",
          "type": "uint32_t"
        },
        {
          "name": "gpsLatitude",
          "type": "float"
        },
        {
          "name": "gpsLongitude",
          "type": "float"
        },
        {
          "name": "gpsAltitude",
          "type": "float"
        },
        {
          "name": "gpsGroundSpeed",
          "type": "float"
        },
        {
          "name": "gpsCourse",
          "type": "float"
        },
        {
          "name": "wpIndex",
          "type": "uint8_t"
        },
        {
          "name": "waypointRadius",
          "type": "uint8_t"
        },
        {
          "name": "wpLatitude",
          "type": "float"
        },
        {
          "name": "wpLongitude",
          "type": "float"
        },
        {
          "name": "roll",
          "type": "float"
        },
        {
          "name": "pitch",
          "type": "float"
        },
        {
          "name": "heading",
          "type": "float"
        },
        {
          "name": "distanceToWaypoint",
          "type": "float"
        },
        {
          "name": "desiredCourse",
          "type": "float"
        },
        {
          "name": "desiredPower",
          "type": "float"
        },
        {
          "name": "leftThruster",
          "type": "uint16_t"
        },
        {
          "name": "rightThruster",
          "type": "uint16_t"
        },
        {
          "name": "isManual",
          "type": "uint8_t"
        },
        {
          "name": "isOther",
          "type": "uint8_t"
        },
        {
          "name": "rcSteering",
          "type": "int16_t"
        },
        {
          "name": "rcPower",
          "type": "int16_t"
        },
        {
          "name": "voltageAPM",
          "type": "float"
        },
        {
          "name": "voltageSolar",
          "type": "float"
        },
        {
          "name": "voltageBattery",
          "type": "float"
        },
        {
          "name": "voltageThrusters",
          "type": "float"
        },
        {
          "name": "powerAPM",
          "type": "float"
        },
        {
          "name": "powerThrusters",
          "type": "float"
        },
        {
          "name": "powerSolar",
          "type": "float"
        },
        {
          "name": "powerCharge",
          "type": "float"
        },
        {
          "name": "powerLoad",
          "type": "float"
        },
        "checksum"
      ]
    }
  }
}
